<div th:fragment="tableProfessor" style="overflow-y: auto;">
    <table class="table table-striped" style="text-align: center; border-radius: 10px;
        overflow: hidden;">
        <thead class="table-dark align-middle">
            <tr>
                <th style="background-color: #7752FE !important;">Identificación</th>
                <th style="background-color: #7752FE !important;">Tipo De Identificación</th>
                <th style="background-color: #7752FE !important;">Nombre</th>
                <th style="background-color: #7752FE !important;">Tipo De Docente</th>
                <th style="background-color: #7752FE !important; min-width: 100px;">Estado</th>
                <th style="background-color: #7752FE !important;">Correo</th>
                <th style="background-color: #7752FE !important;">Ultimo Titulo</th>
                <th style="background-color: #7752FE !important;">Acciones</th>
            </tr>
        </thead>

        <tbody class="align-middle">
            <tr class="table-dark" th:each="professor: ${professors}">
                <td th:text="${professor.personalId}"></td>
                <td th:text="${professor.typePersonalId}"></td>
                <td th:text="${professor.firstName + ' ' + professor.lastName}"></td>
                <td>
                    <span th:if="${professor.professorType.name.toString() == 'PLANTA_MEDIO_TIEMPO'}">Planta - Medio
                        Tiempo</span>
                    <span th:if="${professor.professorType.name.toString() == 'CATEDRA_MEDIO_TIEMPO'}">Catedra - Medio
                        Tiempo</span>
                    <span th:if="${professor.professorType.name.toString() == 'PLANTA_TIEMPO_COMPLETO'}">Planta - Tiempo
                        Completo</span>
                </td>
                <td>
                    <span th:if="${professor.active}"
                        style="display: inline-block; width: 12px; height: 12px; border-radius: 50%; margin-right: 5px; background-color: #1FF434;"></span>
                    <span th:if="${professor.active}">Activo</span>

                    <span th:if="${!professor.active}"
                        style="display: inline-block; width: 12px; height: 12px; border-radius: 50%; margin-right: 5px; background-color: #F00;"></span>
                    <span th:if="${!professor.active}">Inactivo</span>
                </td>
                <td th:text="${professor.email}"></td>
                <td th:text="${professor.lastDegreeAchivement}"></td>
                <td>
                    <a th:href="@{/users/edit-professor/{email}(email=${professor.email})}"
                        class="btn btn-info btn-sm text-white mt-1">Editar</a>

                    <a th:href="@{/autoevaluations/add-autoevaluation/{personalId}(personalId=${professor.Id})}"
                        class="btn btn-success btn-sm text-white mt-1 p-0">Crear Autoevaluación</a>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<div th:fragment="tableLabour" style="overflow-y: auto;">
    <table class="table table-striped" style="text-align: center; border-radius: 10px;
        overflow: hidden;">
        <thead class="table-dark align-middle">
            <tr>
                <th style="background-color: #7752FE !important;">Nombre</th>
                <th style="background-color: #7752FE !important;">Tipo De Labor</th>
                <th style="background-color: #7752FE !important; min-width: 100px;">Estado</th>
                <th style="background-color: #7752FE !important;">Horas Asignadas</th>
                <th style="background-color: #7752FE !important;">Acciones</th>
            </tr>
        </thead>

        <tbody class="align-middle">
            <tr class="table-dark" th:each="labour: ${labours}">
                <td th:text="${labour.labourName}"></td>
                <td>
                    <span th:if="${labour.type.code.toString() == 'D'}">Docencia</span>
                    <span th:if="${labour.type.code.toString() == 'TD'}">Trabajos Docencia</span>
                    <span th:if="${labour.type.code.toString() == 'PI'}">Proyectos Investigación</span>
                    <span th:if="${labour.type.code.toString() == 'TI'}">Trabajos Investigación</span>
                    <span th:if="${labour.type.code.toString() == 'AD'}">Administración</span>
                    <span th:if="${labour.type.code.toString() == 'AS'}">Asesoría</span>
                    <span th:if="${labour.type.code.toString() == 'S'}">Servicios</span>
                    <span th:if="${labour.type.code.toString() == 'E'}">Extensión</span>
                    <span th:if="${labour.type.code.toString() == 'C'}">Capacitación</span>
                    <span th:if="${labour.type.code.toString() == 'OS'}">Otros Servicios</span>
                </td>

                <td>
                    <span th:if="${labour.active}"
                        style="display: inline-block; width: 12px; height: 12px; border-radius: 50%; margin-right: 5px; background-color: #1FF434;"></span>
                    <span th:if="${labour.active}">Activo</span>

                    <span th:if="${!labour.active}"
                        style="display: inline-block; width: 12px; height: 12px; border-radius: 50%; margin-right: 5px; background-color: #F00;"></span>
                    <span th:if="${!labour.active}">Inactivo</span>
                </td>
                <td th:text="${labour.assignedHours}"></td>
                <td>
                    <a th:href="@{/labours/edit-labour/{name}(name=${labour.labourName})}"
                        class="btn btn-info btn-sm text-white">Editar</a>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<div th:fragment="tableAutoevaluationAll" style="overflow-y: auto;">
    <table class="table table-striped" style="text-align: center; border-radius: 10px;
        overflow: hidden;">
        <thead class="table-dark align-middle">
            <tr>
                <th style="background-color: #7752FE !important;">ID</th>
                <th style="background-color: #7752FE !important;">Docente</th>
                <th style="background-color: #7752FE !important; min-width: 100px;">ACTO</th>
                <th style="background-color: #7752FE !important;">Estado</th>
                <th style="background-color: #7752FE !important;">Fecha Inicio</th>
                <th style="background-color: #7752FE !important;">Fecha Fin</th>
                <th style="background-color: #7752FE !important;">Notificar</th>
                <th style="background-color: #7752FE !important;">Acciones</th>
            </tr>
        </thead>

        <tbody class="align-middle">
            <tr class="table-dark" th:each="autoevaluation: ${autoevaluations}">
                <td th:text="${autoevaluation.id}"></td>
                <td th:text="${autoevaluation.userRole.user.firstName + ' ' + autoevaluation.userRole.user.lastName}">
                </td>
                <td>
                    <span th:if="${autoevaluation.act}"
                        style="display: inline-block; width: 12px; height: 12px; border-radius: 50%; margin-right: 5px; background-color: #1FF434;"></span>
                    <span th:if="${autoevaluation.act}">Si</span>

                    <span th:if="${!autoevaluation.act}"
                        style="display: inline-block; width: 12px; height: 12px; border-radius: 50%; margin-right: 5px; background-color: #F00;"></span>
                    <span th:if="${!autoevaluation.act}">No</span>
                </td>
                <td>
                    <span th:if="${autoevaluation.state.toString() == 'EJECUCION'}"
                        style="display: inline-block; width: 12px; height: 12px; border-radius: 50%; margin-right: 5px; background-color: #FFC107;"></span>
                    <span th:if="${autoevaluation.state.toString() == 'EJECUCION'}">En Ejecución</span>

                    <span th:if="${autoevaluation.state.toString() == 'TERMINADO'}"
                        style="display: inline-block; width: 12px; height: 12px; border-radius: 50%; margin-right: 5px; background-color: #1FF434;"></span>
                    <span th:if="${autoevaluation.state.toString() == 'TERMINADO'}">Terminado</span>

                    <span th:if="${autoevaluation.state.toString() == 'SUSPENDIDO'}"
                        style="display: inline-block; width: 12px; height: 12px; border-radius: 50%; margin-right: 5px; background-color: #F00;"></span>
                    <span th:if="${autoevaluation.state.toString() == 'SUSPENDIDO'}">Suspendido</span>
                </td>

                <td th:text="${autoevaluation.initDate.toString()}"></td>

                <td th:text="${autoevaluation.finishDate.toString()}"></td>

                <td>
                    <div style="display: flex; align-items: center; justify-content: center;">
                        <form th:action="@{/autoevaluations/send-email}" method="post">
                            <input type="hidden" name="correoDestinatario"
                                th:value="${autoevaluation.userRole.user.email}" />
                            <input type="hidden" name="nombreDestinatario"
                                th:value="${autoevaluation.userRole.user.firstName}" />
                            <button id="enviarCorreoBtn" type="submit" class="btn btn-primary"
                                style="height: 40px; width: 40px; display: flex; align-items: center; justify-content: center;"
                                th:data-email="${autoevaluation.userRole.user.email}">
                                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="28" viewBox="0 0 25 28"
                                    fill="none">
                                    <path
                                        d="M24.505 19.3319C24.4013 19.2069 24.2994 19.0819 24.1994 18.9613C22.8244 17.2981 21.9925 16.2944 21.9925 11.5863C21.9925 9.14875 21.4094 7.14875 20.26 5.64875C19.4125 4.54062 18.2669 3.7 16.7569 3.07875C16.7375 3.06794 16.7201 3.05376 16.7056 3.03687C16.1625 1.21812 14.6763 0 13 0C11.3238 0 9.83815 1.21812 9.29502 3.035C9.28053 3.05127 9.26342 3.065 9.2444 3.07562C5.72065 4.52625 4.00815 7.30938 4.00815 11.5844C4.00815 16.2944 3.17752 17.2981 1.80127 18.9594C1.70127 19.08 1.5994 19.2025 1.49565 19.33C1.22765 19.6532 1.05785 20.0464 1.00634 20.4631C0.95484 20.8798 1.02379 21.3025 1.20502 21.6812C1.59065 22.4937 2.41252 22.9981 3.35065 22.9981H22.6563C23.59 22.9981 24.4063 22.4944 24.7931 21.6856C24.9752 21.3068 25.0448 20.8837 24.9937 20.4666C24.9426 20.0494 24.773 19.6556 24.505 19.3319ZM13 28C13.9032 27.9993 14.7893 27.7541 15.5644 27.2905C16.3395 26.827 16.9746 26.1622 17.4025 25.3669C17.4227 25.3288 17.4326 25.2861 17.4314 25.243C17.4302 25.1999 17.4179 25.1578 17.3956 25.1209C17.3733 25.084 17.3419 25.0534 17.3043 25.0322C17.2668 25.0111 17.2244 25 17.1813 25H8.82002C8.77685 24.9998 8.73438 25.0109 8.69673 25.032C8.65909 25.0532 8.62757 25.0837 8.60522 25.1206C8.58288 25.1576 8.57049 25.1997 8.56925 25.2428C8.56801 25.286 8.57797 25.3287 8.59815 25.3669C9.02598 26.1621 9.66106 26.8268 10.436 27.2904C11.211 27.7539 12.097 27.9992 13 28Z"
                                        fill="#FFFDFD" />
                                </svg>
                            </button>
                        </form>
                    </div>
                </td>
                <td>
                    <a th:href="@{/autoevaluations/modify-autoevaluation/{autoevaluationId}(autoevaluationId=${autoevaluation.Id})}"
                        class="btn btn-info btn-sm text-white">Ver Detalles</a>

                </td>
            </tr>
        </tbody>
    </table>
</div>

<div th:fragment="tableAutoevaluationAdd" style="overflow-y: auto;">
    <form th:action="@{/autoevaluations/add-autoevaluation(userIdP=${userId})}" th:object="${autoevaluation}"
        method="post">
        <table class="table table-striped" style="text-align: center; border-radius: 10px;
        overflow: hidden;">
            <thead class="table-dark align-middle">
                <tr>
                    <th style="background-color: #7752FE !important;">ID del Usuario</th>
                    <th style="background-color: #7752FE !important;">Nombre de la Labor</th>
                    <th style="background-color: #7752FE !important;">ACTO (Si Aplica)</th>
                    <th style="background-color: #7752FE !important;">Estado</th>
                    <th style="background-color: #7752FE !important;">Resultado</th>
                    <th style="background-color: #7752FE !important;">Evaluación</th>
                    <th style="background-color: #7752FE !important;">Acciones</th>
                </tr>
            </thead>

            <tbody class="align-middle">
                <tr class="table-dark">
                    <td th:text="${userId}"></td>
                    <td>
                        <select class="form-control p-2"
                            style="font-weight: 700; border-radius: 15px; border: 3px solid #1f1f20; background-color: #0E0E0E; color: #FFFFFF;"
                            id="labour" name="selectedLabour.id" th:field="*{id}">
                            <option th:each="labour : ${labours}" th:value="${labour.id}"
                                th:text="${labour.labourName}">
                            </option>
                        </select>
                    </td>
                    <td>
                        <input class="p-2"
                            style="font-weight: 700; border-radius: 15px; border: 3px solid #1f1f20; background-color: #0E0E0E; color: #FFFFFF;"
                            id="act" type="checkbox" th:field="*{act}">
                    </td>
                    <td>
                        <select class="form-control p-2"
                            style="font-weight: 700; border-radius: 15px; border: 3px solid #1f1f20; background-color: #0E0E0E; color: #FFFFFF;"
                            id="state" name="state" th:field="*{state}">
                            <option value="EJECUCION">En Ejecución</option>
                            <option value="TERMINADO">Terminado</option>
                            <option value="SUSPENDIDO">Suspendido</option>
                        </select>
                    </td>
                    <td>
                        <input class="form-control p-2"
                            style="font-weight: 700; border-radius: 15px; border: 3px solid #1f1f20; background-color: #0E0E0E; color: #FFFFFF;"
                            id="result" type="text" th:field="*{result}" disabled>
                    </td>
                    <td>
                        <input class="form-control p-2"
                            style="font-weight: 700; border-radius: 15px; border: 3px solid #1f1f20; background-color: #0E0E0E; color: #FFFFFF;"
                            id="evaluation" name="evaluation" type="number" th:field="*{evaluation}" disabled>
                    <td>
                        <div th:replace="~{fragments/buttons :: button1('submit','Crear Autoevaluación')}"></div>
                    </td>
                </tr>
            </tbody>
        </table>
    </form>
</div>


<div th:fragment="tableAutoevaluationDocente" style="overflow-y: auto;">
    <table class="table table-striped" style="text-align: center; border-radius: 10px;
        overflow: hidden;">
        <thead class="table-dark align-middle">
            <tr>
                <th style="background-color: #7752FE !important;">ID</th>
                <th style="background-color: #7752FE !important;">Labor</th>
                <th style="background-color: #7752FE !important; min-width: 100px;">TipoLabor</th>
                <th style="background-color: #7752FE !important; min-width: 100px;">Horas Asignadas</th>
                <th style="background-color: #7752FE !important;">Fecha Inicio</th>
                <th style="background-color: #7752FE !important;">Fecha Fin</th>
                <th style="background-color: #7752FE !important;">Acciones</th>
            </tr>
        </thead>

        <tbody class="align-middle">
            <tr class="table-dark" th:each="autoevaluation: ${autoevaluations}">
                <td th:text="${autoevaluation.id}"></td>
                <td th:text="${autoevaluation.labour.labourName}">
                </td>
                <td th:text="${autoevaluation.labour.type.code}"></td>
                <td th:text="${autoevaluation.labour.assignedHours.toString()}"></td>
                <td th:text="${autoevaluation.initDate.toString()}"></td>
                <td th:text="${autoevaluation.finishDate.toString()}"></td>

                <td>
                    <a th:href="@{/autoevaluations/perform-autoevaluation/{autoevaluationId}(autoevaluationId=${autoevaluation.Id})}"
                        class="btn btn-info btn-sm text-white">Realizar</a>

                </td>
            </tr>
        </tbody>
    </table>
</div>